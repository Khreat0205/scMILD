# scMILD Configuration - SCP1884 Organ ver00 (CD Classification)
# ===============================================================
# CD 18 samples / Ctrl 16 samples = 34 total samples
# Study: SCP1884
# Base: pretrain_epoch100_organ_ver00.yaml (Organ conditional, num_codes 512)

# 기본 설정 상속
_base_: "pretrain_epoch100_organ_ver00.yaml"

# ============================================================================
# SCP1884 특화 경로
# ============================================================================
paths:
  # 결과 저장 경로 (scp1884_organ_ver00 전용)
  output_root: "${paths.project_root}/results/scp1884_organ_ver00"

# ============================================================================
# SCP1884 데이터 설정
# ============================================================================
data:
  # Subset 설정 - SCP1884 study만 필터링
  subset:
    enabled: true
    column: "study"
    values:
      - "SCP1884"

  # 데이터셋 정보 (참고용)
  info:
    name: "SCP1884"
    disease: "CD"  # Crohn's Disease
    control_status: "ctrl_colon"
    disease_status: "CD"
    n_samples: 34
    n_disease: 18
    n_control: 16
    n_cells: 289730

# ============================================================================
# LOOCV 설정 (34 folds)
# ============================================================================
splitting:
  strategy: "loocv"

# ============================================================================
# MIL 학습 설정 (SCP1884 최적화)
# ============================================================================
mil:
  latent_dim: 128

  training:
    learning_rate: 0.0001
    encoder_learning_rate: 0.0005
    epochs: 100
    use_early_stopping: false

  # SCP1884는 세포 수가 많아서 subsampling 고려
  subsampling:
    enabled: true
    max_cells_per_sample: 5000
